<!DOCTYPE html>
<html>

<head>
   <script src="codicentjs.js"></script>
</head>

<body>
   <!-- Your page content -->
   <button id="testButton">Post test message</button>
   <button id="getButton">Get messages</button>
   <button data-codicent-type="send" data-codicent-message="@codicent #log Hello, world!">Send message</button>
   <h1 data-codicent-type="counter" data-codicent-search="@codicent #log"></h1>
   <script>
      window.onload = () => {
         window.Codicent.token = "ENTER_CODICENT_API_TOKEN_HERE";
         window.Codicent.init();
      };

      document.getElementById("testButton").onclick = function () {
         console.log("Posting test message...");
         window.Codicent.postMessage({ message: "@codicent Hello, world!", codicent: "codicent" })
            .then(response => {
               console.log("RESPONSE", response);
            })
            .catch(error => {
               console.error("ERROR", error);
            });
      };

      document.getElementById("getButton").onclick = function () {
         console.log("Getting messages...");
         window.Codicent.getMessages()
            .then(response => {
               console.log("MESSAGES", response);
            })
            .catch(error => {
               console.error("ERROR", error);
            });
      };
   </script>

</body>

</html>