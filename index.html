<!DOCTYPE html>
<html>

<head>
   <script src="codicentjs.js"></script>
</head>

<body>
   <!-- Your page content -->
   <button id="initButton">Initialize</button>
   <button id="testButton">Post test message</button>
   <button id="getButton">Get messages</button>
   <script>
      // button onclick handler
      document.getElementById("initButton").onclick = function () {
         alert("Initializing Codicent...");
         window.Codicent.token = "ENTER_CODICENT_API_TOKEN_HERE";
         window.Codicent.init()
            .then(() => {
               console.log("INIT ok");
            })
            .catch(error => {
               console.error("INIT ERROR", error);
            });
      };

      document.getElementById("testButton").onclick = function () {
         console.log("Posting test message...");
         window.Codicent.postMessage({ message: "@codicent Hello, world!", codicent: "codicent" })
            .then(response => {
               console.log("RESPONSE", response);
            })
            .catch(error => {
               console.error("ERROR", error);
            });
      };

      document.getElementById("getButton").onclick = function () {
         console.log("Getting messages...");
         window.Codicent.getMessages()
            .then(response => {
               console.log("MESSAGES", response);
            })
            .catch(error => {
               console.error("ERROR", error);
            });
      };
   </script>

</body>

</html>